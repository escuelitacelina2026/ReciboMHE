<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recibo Oficial - MHE Full Services</title>
    <style>
        :root { --primary: #2c3e50; --success: #27ae60; --danger: #d32f2f; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        
        .no-print { 
            background: white; max-width: 600px; margin: 0 auto 20px; 
            padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
        }
        input { width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        button { 
            background: var(--success); color: white; border: none; padding: 15px; 
            width: 100%; font-size: 16px; font-weight: bold; border-radius: 5px; 
            cursor: pointer; width: 100%;
        }

        #recibo-final { 
            background: white; width: 100%; max-width: 750px; margin: auto; 
            padding: 50px; border: 1px solid #eee; min-height: 500px;
            position: relative;
        }
        
        /* SELLO "PAGADO" - DISEÑO MEJORADO */
        .sello-pagado {
            position: absolute;
            top: 35px; 
            right: 40px;
            color: rgba(211, 47, 47, 0.7); /* Rojo con transparencia tipo tinta */
            border: 5px solid rgba(211, 47, 47, 0.7);
            font-size: 32px;
            font-weight: 900;
            padding: 5px 20px;
            text-transform: uppercase;
            transform: rotate(-12deg);
            border-radius: 8px;
            font-family: 'Arial Black', sans-serif;
            z-index: 999;
            pointer-events: none; /* No molesta al hacer clic */
        }

        .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #eee; padding-bottom: 15px; }
        .logo { width: 200px; }
        
        .cuerpo { margin: 50px 0; font-size: 1.3em; line-height: 1.8; }
        .linea-dato { font-weight: bold; border-bottom: 1px solid #000; }

        .tabla-resumen { width: 100%; border-collapse: collapse; margin-top: 30px; font-size: 1.2em; }
        .tabla-resumen td { padding: 15px; border: 1px solid #f8f9fa; }
        .total-pendiente { background: #fff5f5; font-weight: bold; color: var(--danger); }

        .firma-area { margin-top: 80px; float: right; text-align: center; }
        .sello-texto { font-size: 1.4em; font-weight: 800; color: var(--primary); text-transform: uppercase; font-style: italic; }

        @media print {
            .no-print { display: none !important; }
            #recibo-final { border: none; box-shadow: none; width: 100%; padding: 10px; }
        }
    </style>
</head>
<body>

<div class="no-print">
    <h2>Datos del Recibo</h2>
    <input type="text" id="in-cliente" placeholder="Nombre del Cliente" oninput="actualizar()">
    <input type="text" id="in-nro" placeholder="Presupuesto N°" oninput="actualizar()">
    <input type="number" id="in-total" placeholder="Monto Total Trabajo $" oninput="actualizar()">
    <input type="number" id="in-pago" placeholder="Monto que Recibes Hoy $" oninput="actualizar()">
    <button onclick="window.print()">GENERAR PDF / IMPRIMIR</button>
</div>

<div id="recibo-final">
    <div class="sello-pagado">PAGADO</div>

    <div class="header">
        <img src="mhe.png" class="logo" alt="MHE SERVICES" onerror="this.style.display='none'">
        <div style="text-align: right;">
            <h1 style="margin:0; color: var(--primary); letter-spacing: 2px;">RECIBO</h1>
            <p id="out-fecha" style="color: #666; margin: 5px 0;"></p>
        </div>
    </div>

    <div class="cuerpo">
        He recibido del Sr./Sra. <span class="linea-dato" id="out-cliente">____________________</span> 
        la suma de <strong>$<span id="out-monto">0.00</span></strong> en concepto de pago 
        por los servicios del <strong>Presupuesto N° <span id="out-nro">____</span></strong>.
    </div>

    <table class="tabla-resumen">
        <tr>
            <td>Valor Total del Trabajo:</td>
            <td style="text-align: right;">$<span id="out-total">0.00</span></td>
        </tr>
        <tr>
            <td style="color: var(--success); font-weight: bold;">Monto entregado hoy:</td>
            <td style="text-align: right; font-weight: bold;">$<span id="out-pago">0.00</span></td>
        </tr>
        <tr class="total-pendiente">
            <td>SALDO RESTANTE A ABONAR:</td>
            <td style="text-align: right;">$<span id="out-restante">0.00</span></td>
        </tr>
    </table>

    <div class="firma-area">
        <div class="sello-texto">MHE Full Services</div>
        <p style="margin: 5px 0; color: #666; font-size: 0.9em;">Comprobante Digital</p>
    </div>
</div>

<script>
    document.getElementById('out-fecha').innerText = "Fecha: " + new Date().toLocaleDateString();

    function actualizar() {
        const cliente = document.getElementById('in-cliente').value;
        const nro = document.getElementById('in-nro').value;
        const total = parseFloat(document.getElementById('in-total').value) || 0;
        const pago = parseFloat(document.getElementById('in-pago').value) || 0;
        const saldo = total - pago;

        document.getElementById('out-cliente').innerText = cliente || "____________________";
        document.getElementById('out-nro').innerText = nro || "____";
        document.getElementById('out-monto').innerText = pago.toLocaleString('es-AR');
        document.getElementById('out-total').innerText = total.toLocaleString('es-AR');
        document.getElementById('out-pago').innerText = pago.toLocaleString('es-AR');
        document.getElementById('out-restante').innerText = saldo.toLocaleString('es-AR');
    }
</script>

</body>
</html>
